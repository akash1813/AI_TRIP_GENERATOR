import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";
 
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  
  
  export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a possible 3-day Las Vegas itinerary for a couple on a budget, along with some hotel options.  I'll provide as much detail as possible within the limitations of generating data programmatically. Keep in mind that prices fluctuate wildly, especially in Vegas, so the price estimates are just *ballpark figures* and you should always check current pricing on booking sites.  Also, image URLs are subject to change.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"currency\": \"USD\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 40,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/b4/68/36/circus-circus-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1272,\n        \"longitude\": -115.1653\n      },\n      \"rating\": 3.5,\n      \"description\": \"A budget-friendly option on the Strip with a circus theme, including free circus acts and an indoor amusement park (Adventuredome). Rooms are basic but clean. Good for families and those looking for inexpensive accommodation.  Note that it's at the north end of the Strip.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 50,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/44/57/32/the-strat-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1471,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.7,\n      \"description\": \"Offers affordable rooms and the iconic Stratosphere Tower with thrill rides and panoramic views of the city. It's located a bit further north on the Strip, so be prepared for some walking or using transportation. Consider the resort fee when comparing prices.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 60,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/41/f8/62/excalibur-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1022,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 4.0,\n      \"description\": \"A castle-themed hotel on the south end of the Strip, offering budget-friendly rooms. It's connected to Luxor and Mandalay Bay by walkways and a free tram. Family-friendly with shows and attractions.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip (South End) & Free Attractions\",\n      \"bestTimeToVisit\": \"Late afternoon/Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign at the south end of the Strip. A must-do photo op. Be prepared for a short wait in line.\",\n          \"placeImageUrl\": \"https://www.lasvegasnevada.gov/files/sharedassets/public/images/news/press-kits/sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToTravelFromHotel\": \"Varies depending on hotel location; use ride-sharing or bus.\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays inside the Bellagio. Free to enter. A great place for photos.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-spring-display-2023-01.adapt.1900.1069.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeToTravelFromPreviousLocation\": \"15 minutes by bus from Welcome Sign.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular water show choreographed to music. Happens every 30 minutes in the afternoon and every 15 minutes in the evening. Free to watch.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-day.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1736\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"timeToTravelFromPreviousLocation\": \"Adjacent to the Conservatory.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. People-watch, admire the architecture, and soak in the atmosphere. Window shop at the high-end stores (or just enjoy the free air conditioning!).\",\n          \"placeImageUrl\": \"https://i.insider.com/6029221fb0f4190018a5b744?width=1200&format=jpeg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeToTravelFromPreviousLocation\": \"Walkable after the fountain show.\"\n        },\n                {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Downtown Las Vegas. Watch the Viva Vision light show on the canopy. Free to enter. Street performers and a different vibe than the Strip.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/04/FSE_Homepage_Hero_Desktop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1700,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street have fees)\",\n          \"rating\": 4.4,\n          \"timeToTravelFromPreviousLocation\": \"30 min by car/rideshare from the strip\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"High Roller Observation Wheel & Ethel M Chocolate Factory\",\n      \"bestTimeToVisit\": \"Afternoon\",\n      \"activities\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"Giant Ferris wheel with amazing views of the Strip and surrounding area. Consider going during the day for better visibility or at night for the city lights. Purchase tickets in advance online for potential discounts.\",\n          \"placeImageUrl\": \"https://caesars.com/content/dam/clv/Things%20to%20do/Attractions/High%20Roller/clv-high-roller-exterior-daytime-2160x1215.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1158,\n            \"longitude\": -115.1693\n          },\n          \"ticketPricing\": \"Starting around $25-37\",\n          \"rating\": 4.3,\n          \"timeToTravelFromHotel\": \"Depends on hotel location; use ride-sharing or bus.\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden. A nice break from the Strip. You can sample chocolates and purchase gifts. Located a short drive from the Strip.\",\n          \"placeImageUrl\": \"https://www.ethelm.com/on/demandware.static/-/Sites-ethel-m-Library/default/dwc8c0969a/images/CactusGarden/Cactus_Garden_Hero_Desktop.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0516,\n            \"longitude\": -115.0728\n          },\n          \"ticketPricing\": \"Free (chocolate purchases are extra)\",\n          \"rating\": 4.6,\n          \"timeToTravelFromPreviousLocation\": \"20 min by car/rideshare from High Roller\"\n        },\n        {\n          \"placeName\": \"Linq Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district near the High Roller. Offers a variety of affordable food options and free entertainment.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b7e3b145a81d808482079df/master/pass/LINQ_Promenade_02_02.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1161,\n            \"longitude\": -115.1690\n          },\n          \"ticketPricing\": \"Free to enter (attractions and food cost extra)\",\n          \"rating\": 4.2,\n          \"timeToTravelFromPreviousLocation\": \"Short walk from High Roller.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Hoover Dam and Red Rock Canyon (or Pool Day)\",\n      \"bestTimeToVisit\": \"Morning for Hoover Dam, Afternoon for Red Rock/Pool\",\n      \"activities\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Engineering marvel and a historical landmark. Take a tour (fee) or simply walk across the dam and enjoy the views. Allow ample time for travel.\",\n          \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/HD-front-web.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0159,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"Free to walk across; tours cost around $15-30\",\n          \"rating\": 4.7,\n          \"timeToTravelFromHotel\": \"45 minutes to 1 hour by car/rideshare from the Strip.\"\n        },\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Beautiful desert landscape with hiking trails, scenic drives, and rock climbing. A great place to escape the city and enjoy nature. Entry fee applies.\",\n          \"placeImageUrl\": \"https://www.redrockcanyonlv.org/wp-content/uploads/2017/03/calico-hills-trail-1200x675.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1475,\n            \"longitude\": -115.4167\n          },\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"rating\": 4.8,\n          \"timeToTravelFromPreviousLocation\": \"1 hour 30 minutes from Hoover Dam.\"\n        }\n      ]\n    }\n  },\n  \"notes\": [\n    \"Consider purchasing a Las Vegas Monorail pass for convenient transportation along the Strip.\",\n    \"Take advantage of free activities like walking the Strip, watching the Bellagio fountains, and visiting the Bellagio Conservatory.\",\n    \"Look for happy hour deals and affordable dining options.\",\n    \"Stay hydrated, especially during the hot summer months.\",\n    \"Utilize ride-sharing services or public transportation to save on transportation costs.\",\n    \"Factor in resort fees when comparing hotel prices.\",\n    \"Book flights and hotels in advance for better deals.\",\n    \"Pack comfortable shoes for walking.\"\n  ]\n}\n```\n\n**Important Considerations:**\n\n*   **Price Fluctuations:** Hotel and ticket prices in Vegas are highly variable. Check current prices before booking.\n*   **Resort Fees:** Many Vegas hotels charge mandatory resort fees, which can add significantly to the cost. Be sure to factor this in.\n*   **Transportation:** Walking the Strip is great, but distances are deceiving. Consider using the bus, monorail, or ride-sharing. Renting a car can be useful for day trips (Hoover Dam, Red Rock Canyon) but parking can be expensive on the Strip.\n*   **Food:** Eating on the Strip can be expensive. Look for cheaper options off the Strip, or consider packing snacks and drinks.  Happy hour deals can also save you money.\n*   **Flexibility:** Be prepared to adjust your itinerary based on weather, crowds, and your own preferences.\n\nThis JSON provides a framework for your trip. You'll need to research and book hotels, transportation, and any paid attractions in advance to get the best deals. Enjoy your trip to Vegas!\n"},
          ],
        },
      ],
    });
  
   
   
    
  
  
 